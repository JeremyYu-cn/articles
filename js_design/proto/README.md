# JSè®¾è®¡æ¨¡å¼ä¹‹åŽŸåž‹æ¨¡å¼

---------------------

### åŸºäºŽåŽŸåž‹çš„é¢å‘å¯¹è±¡è¯­è¨€
  JavaScriptæ˜¯ä¸€é—¨**åŸºäºŽåŽŸåž‹**çš„é¢å‘å¯¹è±¡è¯­è¨€ï¼Œå®ƒçš„å¯¹è±¡ç³»ç»Ÿæ˜¯ä½¿ç”¨åŽŸåž‹æ¨¡å¼æ¥æ­å»ºçš„ã€‚  
  åŽŸåž‹æ¨¡å¼æ˜¯ç”¨äºŽ**åˆ›å»ºå¯¹è±¡**çš„ä¸€ç§æ¨¡å¼ï¼Œå®ƒä¸éœ€è¦å…ˆæŒ‡å®šå®ƒçš„ç±»åž‹ï¼Œç„¶åŽé€šè¿‡ç±»æ¥åˆ›å»ºè¿™ä¸ªå¯¹è±¡ã€‚  
  è€Œæ˜¯æ‰¾åˆ°ä¸€ä¸ªå¯¹è±¡ï¼Œé€šè¿‡**å…‹éš†**æ¥åˆ›å»ºä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„å¯¹è±¡ã€‚  
  
  å‡å¦‚æˆ‘ä»¬åœ¨ä¸€ä¸ªæ¸¸æˆçš„å…µå·¥åŽ‚é‡Œé¢æ‰¹é‡ç”Ÿäº§æˆ˜äº‰æœºå™¨äººðŸ¤–ï¼Œæ¯ä¸ªæœºå™¨äººéƒ½æœ‰é»˜è®¤çš„è¡€é‡100å’Œç­‰çº§1ã€‚  
  çŽ°åœ¨æˆ‘ä»¬çš„é—´è°åœ¨æ•Œæ–¹å·¥åŽ‚ä¸­çªƒå–åˆ°ä¸€äº›æ ¸å¿ƒæŠ€æœ¯å¹¶ä¸”è¿ç”¨åˆ°æˆ‘æ–¹æœºå™¨äººä¸­ï¼Œæ¯ä¸ªé»˜è®¤çš„å‚æ•°å˜ä¸ºè¡€é‡200å’Œç­‰çº§2ã€‚
  
  é‚£ä¹ˆä½¿ç”¨**å…‹éš†**çš„åŽŸåž‹æ¨¡å¼å¯ä»¥è¿™æ ·å†™
```javascript
    var Machine = function(){
        this.blood = 100;
        this.level = 1;
    }
    
    var machine = new Machine();
    machine.blood = 200;
    machine.level = 2;
    
    //å…¼å®¹Object.create
    Object.create = Object.create || function (obj){
        var Fun = function(){};
        Fun.prototype = obj;
        return new Fun();
    };
    
    var cloneMachine = Object.create(machine);
    
    console.log(cloneMachine);
```

  è¾“å‡º
 
![](https://user-gold-cdn.xitu.io/2019/5/21/16ad768531c8bb38?w=632&h=116&f=png&s=11965)
  è¿™æ ·ï¼Œæˆ‘ä»¬æ¯æ¬¡è°ƒç”¨ ``` Object.create(machine) ``` å°±ç›¸å½“äºŽç”Ÿäº§å‡ºä¸€ä¸ªæˆ˜äº‰æœºå™¨äººï¼Œå¹¶ä¸”ç”Ÿäº§å‡ºæ¥çš„æœºå™¨äººéƒ½æ˜¯å‡çº§åŽçš„æœºå™¨äººðŸ¤–ï¸  
  å¦‚æžœä¸ä½¿ç”¨åŽŸåž‹æ¨¡å¼ï¼Œæˆ‘ä»¬åˆ™éœ€è¦å…ˆä¿å­˜è¡€é‡å’Œç­‰çº§ï¼Œç„¶åŽå†è®¾ç½®è¿™äº›ä¿¡æ¯åˆ°æ–°çš„æœºå™¨äººä¸Šé¢ã€‚
  
---------------------
  
### åŽŸåž‹ç¼–ç¨‹çš„åŸºæœ¬è§„åˆ™

1. **æ‰€æœ‰æ•°æ®éƒ½æ˜¯å¯¹è±¡**  
    JavaScriptå¼•å…¥äº†ä¸¤å¥—æœºåˆ¶ï¼šåŸºæœ¬ç±»åž‹å’Œå¯¹è±¡ç±»åž‹ï¼Œå› ä¸ºåŸºæœ¬ç±»åž‹çš„å­˜åœ¨ï¼Œæ‰€ä»¥åœ¨JSä¸­åªæ˜¯**ç»å¤§éƒ¨åˆ†**æ•°æ®æ˜¯å¯¹è±¡ã€‚  
å½“ç„¶æœ‰äº›åŸºæœ¬ç±»åž‹ä¹Ÿå¯ä»¥è½¬æˆå¯¹è±¡ç±»åž‹ï¼Œä¾‹å¦‚ï¼š
```javascript 
    new String('test');
    new Number(666);
    new Boolean(true);
```

2. **è¦å¾—åˆ°ä¸€ä¸ªå¯¹è±¡ï¼Œä¸æ˜¯é€šè¿‡å®žä¾‹åŒ–ç±»ï¼Œè€Œæ˜¯æ‰¾åˆ°ä¸€ä¸ªå¯¹è±¡ä½œä¸ºåŽŸåž‹å¹¶å…‹éš†å®ƒ**   

    MDNä¸­åŽŸåž‹ä¸ŽåŽŸåž‹é“¾å’Œæœ‰è¿™æ ·ä¸€æ®µæè¿°  
    > å‡ ä¹Žæ‰€æœ‰ JavaScript ä¸­çš„å¯¹è±¡éƒ½æ˜¯ä½äºŽåŽŸåž‹é“¾é¡¶ç«¯çš„ Object çš„å®žä¾‹ã€‚  
    >
    > åœ¨è°ƒç”¨ `new Object()` æ—¶å¼•æ“Žä¼šä»Ž `Object.prototype`å‡ºå…‹éš†ä¸€ä¸ªå¯¹è±¡å‡ºæ¥ï¼Œæ•´ä¸ªè¿‡ç¨‹éƒ½æ˜¯ç”±JSå¼•æ“Žè´Ÿè´£å®žçŽ°

    æ¥çœ‹ä¸€æ®µä»£ç 
```javascript
    function CreateObject(){
        var obj = new Object(),                     //ä»ŽObject.prototypeå…‹éš†ä¸€ä¸ªæ–°å¯¹è±¡
            Constructor = [].shift.call(arguments); //å–å‡ºä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°
        obj.__proto__ = Constructor.prototype;      //å°†æ–°å¯¹è±¡åŽŸåž‹æŒ‡å‘å¤–éƒ¨ä¼ å…¥çš„æž„é€ å™¨åŽŸåž‹
        
        var result = Constructor.apply(obj,arguments); //ç»™æ–°å¯¹è±¡è®¾ç½®å±žæ€§
        
        return typeof result === 'object' ? result : obj; //ç¡®ä¿è¿”å›žçš„æ˜¯ä¸€ä¸ªå¯¹è±¡
    }
    
    function Person(name){
        this.name = name;
    }
    
    Person.prototype.getName = function(){
        return this.name;
    }
    
    var x = CreateObject(Person,'shirley');
    
    console.log(x.name);
    console.log(x.getName());
    console.log(Object.getPrototypeOf(x) === Person.prototype);
```

æ²¡é”™ï¼Œè¿™æ˜¯æ¨¡æ‹Ÿnewæ“ä½œç¬¦çš„ä»£ç ï¼Œæƒ³äº†è§£æ›´å¤šå¯ä»¥[ç‚¹è¿™é‡Œ](https://juejin.im/post/5c11f3aaf265da61441feaec)ã€‚

åœ¨`new`æž„é€ ä¸€ä¸ªå¯¹è±¡çš„ç¬¬ä¸€æ­¥å°±æ˜¯å…ˆä»Ž`Object.prototype`ä¸­å…‹éš†å‡ºä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åŽå†åœ¨è¿™ä¸ªå¯¹è±¡ä¸­è¿›è¡Œä¸€äº›å…¶ä»–æ“ä½œã€‚


3. **å¯¹è±¡ä¼šè®°ä½å®ƒçš„åŽŸåž‹ã€‚**  

    ä¸Šé¢ä»£ç ä¸­æœ‰è¿™å¥ `obj.__proto__ = Constructor.prototype;`
    

4. **å¦‚æžœå¯¹è±¡æ— æ³•å“åº”æŸä¸ªè¯·æ±‚ï¼Œå®ƒä¼šæŠŠè¿™ä¸ªè¯·æ±‚å§”æ‰˜ç»™å®ƒè‡ªå·±çš„åŽŸåž‹ã€‚**  
    

---------------------

### å†™åœ¨æœ€åŽ
ä»ŽåŽ»å¹´ä¸Šç­æ‘¸é±¼çš„æ—¶å€™æ— æ„ä¸­å‘çŽ°çš„æŽ˜é‡‘ï¼Œåˆ°çŽ°åœ¨ä¸ºæ­¢åœ¨æŽ˜é‡‘æ··äº†ä¹Ÿæœ‰å¤§åŠå¹´äº†ï¼Œæ„Ÿè§‰è¿™é‡Œæ˜¯åœ¨æ‘¸é±¼çš„åŒæ—¶ä¹Ÿèƒ½å­¦ä¹ åˆ°æŠ€æœ¯çš„åœ°æ–¹ï¼ˆæ²¸ç‚¹æ‘¸é±¼æ˜¯æ‰æ˜¯çœŸæ­£çš„ç›®çš„ï¼ï¼ï¼ï¼‰ã€‚  
çœ‹è¿‡å¾ˆå¤šæŠ€æœ¯æ–‡ç« å´è¿˜æ²¡æœ‰å†™è¿‡æ–‡ç« ï¼Œæœ€è¿‘æ„Ÿè§‰è‡ªå·±å¯¹å­¦ä¹ æœ‰äº›æ”¾æ¾äº†ï¼Œæ‰€ä»¥æƒ³å†™ä¸€äº›æŠ€æœ¯æ–‡ç« æ¥å·©å›ºä¸€ä¸‹è‡ªå·±çš„åŸºç¡€å¹¶ä¸”æ¢³ç†ä¸€ä¸‹JSçš„çŸ¥è¯†...ï¼ˆæœ¬æ–‡æ˜¯å°å¼Ÿé•¿è¿™ä¹ˆå¤§ç¬¬ä¸€æ¬¡åœ¨ç½‘ä¸Šå‘çš„æ–‡ç« ï¼ŒåŠ ä¹‹å°å¼Ÿä¹Ÿæ˜¯å­¦æ¸£ä¸€æžšï¼Œå¦‚æœ‰é”™è¯¯è¯·æŒ‡å‡ºï¼Œæœ›å¤§ä½¬ä»¬è½»å–·ï¼ï¼ï¼‰

---------------------

### å‚è€ƒ
> ã€ŠJavaScriptè®¾è®¡æ¨¡å¼ä¸Žå¼€å‘å®žè·µã€‹   
>  [MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Inheritance_and_the_prototype_chain) 